# 倒數計時 Chrome Extension

一個功能完整的倒數計時器 Chrome 擴展程式。

## 功能特點

### 1. 靈活的時間設定
- **分鐘設定**：可選擇 +1、+5、+10、+30 分鐘
- **秒數設定**：可選擇 +1、+5、+10、+30 秒
- **累加功能**：所有時間按鈕都可累加，自由組合所需時間

### 2. 雙重顯示模式
- **網頁右下角指示器**：
  - 🟢 綠燈：剩餘時間 > 3 分鐘
  - 🟡 黃燈：3 分鐘 ≥ 剩餘時間 > 10 秒
  - 🔴 紅燈：剩餘時間 ≤ 10 秒
  - 可選擇顯示或隱藏倒數時間文字
  
- **擴展圖標 Badge 顯示**：
  - 在瀏覽器工具列圖標上顯示剩餘分鐘數（無條件進位）
  - 顏色隨剩餘時間變化（綠→黃→紅）
  - 全瀏覽器範圍，不受分頁切換影響

### 3. 網站自動計時 ⭐ NEW
- **自動啟動計時器**：進入特定網站時自動開始倒數
- **萬用字元支援**：使用 `*` 匹配多個網址
- **範例設定**：
  - `*facebook.com*` - 所有 Facebook 頁面
  - `*youtube.com*` - 所有 YouTube 頁面
  - `*twitter.com*` 或 `*x.com*` - 所有 Twitter/X 頁面
- **自訂時間**：每個網站可設定不同的倒數時間

### 4. 時間到提醒
- 時間到**立即顯示全螢幕提醒**
- 提供兩個選項：
  - ✅ **重新計時**：使用上次設定的時間重新開始
  - ❌ **關閉倒數計時**：完全停止計時器

### 5. 記憶功能
- 自動記錄最後一次設定的時間
- 記錄顯示偏好設定
- 儲存網站自動計時規則
- 下次開啟時自動載入上次的設定

## 安裝方式

1. 開啟 Chrome 瀏覽器
2. 進入 `chrome://extensions/`
3. 開啟右上角的「開發人員模式」
4. 點擊「載入未封裝項目」
5. 選擇此專案的資料夾

## 使用方法

### 手動計時
1. 點擊瀏覽器工具列上的擴展圖示
2. 使用「+分鐘」和「+秒數」按鈕設定時間
3. 選擇顯示選項：
   - ✓ **顯示倒數時間**：在網頁右下角顯示時間文字
   - ✓ **在擴展圖標顯示倒數（分鐘）**：在圖標上顯示剩餘分鐘
4. 點擊「開始」按鈕啟動計時
5. 計時器會同時顯示在網頁和擴展圖標上
6. 時間到後會有全螢幕提醒

### 網站自動計時
1. 點擊「管理網站規則」按鈕
2. 輸入網站網址模式（例如：`*facebook.com*`）
3. 設定倒數時間（分鐘和秒數）
4. 點擊「新增規則」
5. 下次訪問該網站時，計時器會自動啟動

**萬用字元使用範例**：
- `*facebook.com*` - 匹配所有 Facebook 頁面
- `*youtube.com/watch*` - 只匹配 YouTube 影片頁面
- `https://example.com/*` - 只匹配特定網域的所有頁面

## 文件結構

```
countdown/
├── manifest.json         # 擴展配置文件
├── background.js         # 背景服務（Badge 計時器）
├── popup.html           # 彈出視窗 HTML
├── popup.js             # 彈出視窗邏輯
├── site-rules.html      # 網站規則管理頁面
├── site-rules.js        # 網站規則管理邏輯
├── content.js           # 內容腳本（網頁計時器邏輯 + 自動啟動）
├── content.css          # 內容腳本樣式
├── icons/               # 圖標資料夾
│   ├── icon16.png
│   ├── icon48.png
│   └── icon128.png
└── README.md            # 說明文件
```

## 技術細節

- **Manifest V3**：使用最新的 Chrome Extension API
- **Chrome Storage API**：用於儲存用戶設定
- **Background Service Worker**：處理擴展圖標的 Badge 顯示
- **Content Scripts**：在網頁中注入計時器 UI
- **Message Passing**：popup、background 與 content script 之間的通訊
- **Badge API**：在擴展圖標上顯示倒數分鐘

## 注意事項

- 網頁計時器會在當前活躍的分頁中顯示
- Badge 計時器在整個瀏覽器範圍顯示，不受分頁影響
- 切換分頁不會影響計時
- 關閉分頁會停止該分頁的網頁計時器，但 Badge 計時器繼續運行
- 自動計時功能在頁面載入時觸發，重新整理頁面會重新啟動計時
- 同一網站只會匹配第一條符合的規則
- **點擊訊號燈**可以切換顯示/隱藏倒數時間

## 圖標設計

擴展使用沙漏 emoji ⌛ 作為圖標，象徵時間流逝和倒數計時。

**圖標特色**：
- 紫色漸變背景（#667eea → #764ba2）
- 白色沙漏 emoji 
- 提供 16x16、48x48、128x128 三種尺寸

**自訂圖標**：
SVG 源文件位於 `icons/` 目錄，可使用線上工具或設計軟體轉換為 PNG，或直接在 manifest.json 中改用 SVG 格式。

## 使用場景

1. **時間管理**：限制在社群媒體的使用時間（Facebook、Instagram、Twitter）
2. **專注學習**：在學習網站設定休息時間提醒
3. **工作效率**：為不同工作任務網站設定時間限制
4. **健康提醒**：長時間瀏覽時提醒休息
5. **自我控制**：幫助減少拖延，培養良好網路使用習慣

## 後續改進建議

1. 添加音效提醒
2. 支援預設時間模板
3. 添加暫停/繼續功能
4. 支援多個計時器同時運行
5. 自訂顏色主題
6. 歷史記錄功能

## 授權

MIT License

---

製作日期：2025年12月
更新日期：2025年12月20日
